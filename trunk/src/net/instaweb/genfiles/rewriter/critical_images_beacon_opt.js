(function(){var g=encodeURIComponent,h=window,k=document,l="width",m="documentElement",n="height",p="length",q=this,r=function(b,d){var a=b.split("."),c=q;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var e;a[p]&&(e=a.shift());)a[p]||void 0===d?c[e]?c=c[e]:c=c[e]={}:c[e]=d};var s=function(b){var d=b[p];if(0<d){for(var a=Array(d),c=0;c<d;c++)a[c]=b[c];return a}return[]};var t=function(b){var d=h;if(d.addEventListener)d.addEventListener("load",b,!1);else if(d.attachEvent)d.attachEvent("onload",b);else{var a=d.onload;d.onload=function(){b.call(this);a&&a.call(this)}}};var u,v=function(b,d,a,c,e){this.f=b;this.h=d;this.i=a;this.c=e;this.e={height:h.innerHeight||k[m].clientHeight||k.body.clientHeight,width:h.innerWidth||k[m].clientWidth||k.body.clientWidth};this.g=c;this.b={};this.a=[];this.d={}},w=function(b,d){var a,c,e=d.getAttribute("pagespeed_url_hash");if(a=e)if(a=!(e in b.d))if(0>=d.offsetWidth&&0>=d.offsetHeight)a=!1;else{c=d.getBoundingClientRect();var f=k.body;a=c.top+("pageYOffset"in h?h.pageYOffset:(k[m]||f.parentNode||f).scrollTop);c=c.left+("pageXOffset"in
h?h.pageXOffset:(k[m]||f.parentNode||f).scrollLeft);f=a.toString()+","+c;b.b.hasOwnProperty(f)?a=!1:(b.b[f]=!0,a=a<=b.e[n]&&c<=b.e[l])}a&&(b.a.push(e),b.d[e]=!0)};v.prototype.checkImageForCriticality=function(b){b.getBoundingClientRect&&w(this,b)};r("pagespeed.CriticalImages.checkImageForCriticality",function(b){u.checkImageForCriticality(b)});
var x=function(){var b={},d=k.getElementsByTagName("IMG");if(0==d[p])return{};var a=d[0];if(!("naturalWidth"in a&&"naturalHeight"in a))return{};for(var c=0;a=d[c];++c){var e=a.getAttribute("pagespeed_url_hash");e&&(!(e in b)&&0<a[l]&&0<a[n]&&0<a.naturalWidth&&0<a.naturalHeight||e in b&&a[l]>=b[a.src].k&&a[n]>=b[a.src].j)&&(b[e]={rw:a[l],rh:a[n],ow:a.naturalWidth,oh:a.naturalHeight})}return b},y="";r("pagespeed.CriticalImages.getBeaconData",function(){return y});
r("pagespeed.CriticalImages.Run",function(b,d,a,c,e){var f=new v(b,d,a,c,e);u=f;t(function(){h.setTimeout(function(){f.b={};for(var a=["IMG","INPUT"],b=[],c=0;c<a[p];++c)b=b.concat(s(k.getElementsByTagName(a[c])));if(0!=b[p]&&b[0].getBoundingClientRect){for(c=0;a=b[c];++c)w(f,a);b="oh="+f.i;f.c&&(b+="&n="+f.c);if(a=0!=f.a[p])for(b+="&ci="+g(f.a[0]),c=1;c<f.a[p];++c){var d=","+g(f.a[c]);131072>=b[p]+d[p]&&(b+=d)}f.g&&(d="&rd="+g(JSON.stringify(x())),131072>=b[p]+d[p]&&(b+=d),a=!0);y=b;if(a){var c=
f.f,a=f.h,e;if(h.XMLHttpRequest)e=new XMLHttpRequest;else if(h.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(z){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(A){}}e&&(e.open("POST",c+(-1==c.indexOf("?")?"?":"&")+"url="+g(a)),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(b))}}},0)})});})();
