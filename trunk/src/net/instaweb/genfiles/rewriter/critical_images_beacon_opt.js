(function(){var f=encodeURIComponent,h=window,l=document,r="width",s="documentElement",t="height",u="length",v=this,w=function(b,d){var a=b.split("."),c=v;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var e;a[u]&&(e=a.shift());)a[u]||void 0===d?c[e]?c=c[e]:c=c[e]={}:c[e]=d};var x=function(b){var d=b[u];if(0<d){for(var a=Array(d),c=0;c<d;c++)a[c]=b[c];return a}return[]};var y=function(b){var d=h;if(d.addEventListener)d.addEventListener("load",b,!1);else if(d.attachEvent)d.attachEvent("onload",b);else{var a=d.onload;d.onload=function(){b.call(this);a&&a.call(this)}}};var z=function(b,d,a,c,e){this.d=b;this.f=d;this.g=a;this.b=e;this.c={height:h.innerHeight||l[s].clientHeight||l.body.clientHeight,width:h.innerWidth||l[s].clientWidth||l.body.clientWidth};this.e=c;this.a={}},A=function(){var b={},d=l.getElementsByTagName("IMG");if(0==d[u])return{};var a=d[0];if(!("naturalWidth"in a&&"naturalHeight"in a))return{};for(var c=0;a=d[c];++c){var e=a.getAttribute("pagespeed_url_hash");e&&(!(e in b)&&0<a[r]&&0<a[t]&&0<a.naturalWidth&&0<a.naturalHeight||e in b&&a[r]>=b[a.src].i&&
a[t]>=b[a.src].h)&&(b[e]={rw:a[r],rh:a[t],ow:a.naturalWidth,oh:a.naturalHeight})}return b},B="";w("pagespeed.CriticalImages.getBeaconData",function(){return B});
w("pagespeed.CriticalImages.Run",function(b,d,a,c,e){var m=new z(b,d,a,c,e);y(function(){h.setTimeout(function(){for(var a,d,c=["IMG","INPUT"],b=[],e=0;e<c[u];++e)b=b.concat(x(l.getElementsByTagName(c[e])));if(0!=b[u]&&b[0].getBoundingClientRect){for(var c=[],q={},e=0;a=b[e];++e){var k=a.getAttribute("pagespeed_url_hash"),g;if(g=k)if(g=!(k in q))if(g=m,0>=a.offsetWidth&&0>=a.offsetHeight)g=!1;else{d=a.getBoundingClientRect();var n=l.body;a=d.top+("pageYOffset"in h?h.pageYOffset:(l[s]||n.parentNode||
n).scrollTop);d=d.left+("pageXOffset"in h?h.pageXOffset:(l[s]||n.parentNode||n).scrollLeft);n=a.toString()+","+d;g.a.hasOwnProperty(n)?g=!1:(g.a[n]=!0,g=a<=g.c[t]&&d<=g.c[r])}g&&(c.push(k),q[k]=!0)}b="oh="+m.g;m.b&&(b+="&n="+m.b);if(q=0!=c[u])for(b+="&ci="+f(c[0]),e=1;e<c[u];++e)k=","+f(c[e]),131072>=b[u]+k[u]&&(b+=k);m.e&&(k="&rd="+f(JSON.stringify(A())),131072>=b[u]+k[u]&&(b+=k),q=!0);B=b;if(q){var e=m.d,c=m.f,p;if(h.XMLHttpRequest)p=new XMLHttpRequest;else if(h.ActiveXObject)try{p=new ActiveXObject("Msxml2.XMLHTTP")}catch(C){try{p=
new ActiveXObject("Microsoft.XMLHTTP")}catch(D){}}p&&(p.open("POST",e+(-1==e.indexOf("?")?"?":"&")+"url="+f(c)),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(b))}}},0)})});})();
